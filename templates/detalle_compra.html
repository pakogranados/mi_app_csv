<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Detalle de Compra</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="container mt-4">

    <h3 class="mb-4">Detalle de la Compra</h3>

    {% if compra %}
        <!-- Encabezado de la compra -->
        <div class="mb-3 p-3 border rounded bg-light">
            <p><strong>Proveedor:</strong> {{ compra.proveedor }}</p>
            <p><strong>Fecha:</strong> {{ compra.fecha }}</p>
            <p><strong>Número de Factura:</strong> {{ compra.numero_factura }}</p>
            <p><strong>Total:</strong> ${{ "%.2f"|format(compra.total) }}</p>
        </div>

        <!-- Tabla de detalle -->
        <table class="table table-bordered table-hover">
            <thead class="table-light">
                <tr>
                    <th>Producto</th>
                    <th class="text-end">Unidades</th>
                    <th class="text-end">Precio Unitario</th>
                    <th class="text-end">Precio Total</th>
                </tr>
            </thead>
            <tbody>
                {% for item in detalles %}
                <tr>
                    <td>{{ item.producto }}</td>
                    <td class="text-end">{{ "%.2f"|format(item.unidades) }}</td>
                    <td class="text-end">${{ "%.2f"|format(item.precio_unitario) }}</td>
                    <td class="text-end">${{ "%.2f"|format(item.precio_total) }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    {% else %}
        <!-- Si no existe la compra -->
        <div class="alert alert-warning">
            No se encontró información de la compra.
        </div>
    {% endif %}

    <!-- Botón para volver -->
    <a href="{{ url_for('listado_compras') }}" class="btn btn-secondary mt-3">Volver</a>

</body>
</html>
